-# navigation styled for Bootstrap 3.0
.navbar.navbar-inverse.navbar-fixed-top
  .container
    .navbar-header
      %button.navbar-toggle{"data-target" => ".navbar-collapse", "data-toggle" => "collapse", type: "button"}
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      = link_to 'Rails4-Devise-Pundit-Bootstrap', root_path, class: 'navbar-brand'
    .navbar-collapse.collapse
      %ul.nav.navbar-nav#myNav
        %li.active
          = link_to 'Home', root_path, class: 'navbar-brand'
        %li= link_to 'Users', users_path
        %li= link_to 'Roles', roles_path
      %p.navbar-text.pull-right
        - if user_signed_in?
          Logged in as
          = succeed "." do
            %strong= current_user.email
          = link_to 'Edit profile', edit_user_registration_path, :class => 'navbar-link'
          |
          \#{link_to "Logout", destroy_user_session_path, method: :delete, :class => 'navbar-link'}
        - else
          = link_to "Sign up", new_user_registration_path, :class => 'navbar-link'
          |
          \#{link_to "Login", new_user_session_path, :class => 'navbar-link'}

:javascript
  $(function () {
    var currentPage = window.location.pathname.split('/')[1]
    if (currentPage != ''){
      $('#myNav li').removeClass('active');
      $('#myNav a[href^="/' + currentPage + '"]').parent('li').addClass('active');
    }
  })
  
